<html>
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <title>WebSocket demo</title>
    </head>
    <!-- <body onload="test()"> -->
    <body >
        <!--<form id="streamForm" onsubmit="myFunction(event)">-->
        <div class="container-fluid">
            <div class="row">
                <div class="col-xl">
                    <form id="streamForm">
                        <button type="submit">Start Streaming</button>
                    </form>
                </div>
            </div>
        </div>

        <script>

            window.onload = function() {
                actualForm.onsubmit = function(e) {
                  e.preventDefault();

                  // Retrieve the message from the textarea.

                  // Send the message through the WebSocket.
                  console.log("Submitted");
                  startCapture(); 
                  // Add the message to the messages list.
                  return false;
                };

                async function startCapture(displayMediaOptions) {
                  let captureStream = null;
                
                  try {
                    captureStream = await navigator.mediaDevices.getDisplayMedia(displayMediaOptions);
                  } catch(err) {
                    console.error("Error: " + err);
                  }
                  return captureStream;
                }
            }
        </script>
    </body>
</html>
